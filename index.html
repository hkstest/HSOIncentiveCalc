<html>
  <head>

	<meta name="viewport" content="width=device-width, initial-scale=1"> 

	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<style>

table {
  table-layout: auto;
  width:100%;
  border: 1px solid grey;
  text-align:center;
}

th {
  border: 1px solid grey;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;
  background-color: rgba(58, 214, 235, 0.281);
}

td {
  border: 1px solid gray;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;
  text-align: center;
}

#home {
 background-color: rgba(58, 214, 235, 0.281);
 width: 100%;
}

</style>
    <title>Incentive Calculator</title>
  </head>

<body>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquerymobile/1.4.5/jquery.mobile.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

<div data-role='header' id='home'> <h1>HSO Incentive</h1>
</div><!-- /header -->
<div data-role='content'>
  <input type="button" value="Calculate Incentive" >
	<label for="tenure"><h3>Select your tenure:</h3></label>
<select id="tenure" value="Select Tenure">
<option value="0-30 Days" text-align="center">0-30 Days</option>
<option value="31-60 Days">31-60 Days</option>
<option value="61-90 Days">61-90 Days</option>
<option value=">90 Days">>90 Days</option>
</select>
        <table>
      <tr>
        <th style="width:100px">Plan Value</th>
        <th style="width:150px">Plan Type</th>
        <th style="width:100px">Quantity</th>
      </tr>
      <tr>
        <td rowspan = "5"><h2><b>399</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-1" id="quantity-1"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-2" id="quantity-2"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-3" id="quantity-3"></td>
      </tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-4" id="quantity-4"></td>
      </tr>
      <tr>
        <td>Prepaid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-5" id="quantity-5"></td>
      </tr>
      <tr>
        <td rowspan = "4"><h2><b>499</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-6" id="quantity-6"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-7" id="quantity-7"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-8" id="quantity-8"></td>
      </tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-9" id="quantity-9"></td>
      </tr>
      <tr>
        <td rowspan = "4"><h2><b>599</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-10" id="quantity-10"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-11" id="quantity-11"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-12" id="quantity-12"></td>
	</tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-13" id="quantity-13"></td>
	</tr>

     <tr>
        <td rowspan = "5"><h2><b>699</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-14" id="quantity-14"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-15" id="quantity-15"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-16" id="quantity-16"></td>
      </tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-17" id="quantity-17"></td>
      </tr>
      <tr>
        <td>Prepaid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-18" id="quantity-18"></td>
      </tr>
      <tr>
        <td rowspan = "4"><h2><b>799</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-19" id="quantity-19"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-20" id="quantity-20"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-21" id="quantity-21"></td>
      </tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-22" id="quantity-22"></td>
      </tr>
      <tr>
        <td rowspan = "4"><h2><b>899</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-23" id="quantity-23"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-24" id="quantity-24"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-25" id="quantity-25"></td>
	</tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-26" id="quantity-26"></td>
	</tr>

	<tr>
        <td rowspan = "5"><h2><b>999</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-27" id="quantity-27"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-28" id="quantity-28"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-29" id="quantity-29"></td>
      </tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-30" id="quantity-30"></td>
      </tr>
      <tr>
        <td>Prepaid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-31" id="quantity-31"></td>
      </tr>
	<tr>
        <td rowspan = "5"><h2><b>â‰¥1499</b></h2></td>
        <td>3 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-32" id="quantity-32"></td>
      </tr>
      <tr>
        <td>6 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-33" id="quantity-33"></td>
      </tr>
      <tr>
        <td>12 Months</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-34" id="quantity-34"></td>
      </tr>
      <tr>
        <td>Trial to Paid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-35" id="quantity-35"></td>
      </tr>
      <tr>
        <td>Prepaid</td>
        <td><input type="number"  min="0" max="999"  step="1" name="quantity-36" id="quantity-36"></td>
      </tr>

    </table>
</div><!-- /content -->
</body>

  <script>
 const submitBtn = document.querySelector("input[type='button']");
  submitBtn.addEventListener("click", function(event) {
    event.preventDefault();
    let totalIncentive = 0;
totalIncentive += document.querySelector("#quantity-1").value*0;
totalIncentive += document.querySelector("#quantity-2").value*100;
totalIncentive += document.querySelector("#quantity-3").value*150;
totalIncentive += document.querySelector("#quantity-4").value*75;
totalIncentive += document.querySelector("#quantity-5").value*75;
totalIncentive += document.querySelector("#quantity-6").value*0;
totalIncentive += document.querySelector("#quantity-7").value*175;
totalIncentive += document.querySelector("#quantity-8").value*300;
totalIncentive += document.querySelector("#quantity-9").value*75;
totalIncentive += document.querySelector("#quantity-10").value*0;
totalIncentive += document.querySelector("#quantity-11").value*225;
totalIncentive += document.querySelector("#quantity-12").value*400;
totalIncentive += document.querySelector("#quantity-13").value*75;
totalIncentive += document.querySelector("#quantity-14").value*150;
totalIncentive += document.querySelector("#quantity-15").value*250;
totalIncentive += document.querySelector("#quantity-16").value*450;
totalIncentive += document.querySelector("#quantity-17").value*100;
totalIncentive += document.querySelector("#quantity-18").value*100;
totalIncentive += document.querySelector("#quantity-19").value*175;
totalIncentive += document.querySelector("#quantity-20").value*300;
totalIncentive += document.querySelector("#quantity-21").value*550;
totalIncentive += document.querySelector("#quantity-22").value*100;
totalIncentive += document.querySelector("#quantity-23").value*200;
totalIncentive += document.querySelector("#quantity-24").value*350;
totalIncentive += document.querySelector("#quantity-25").value*650;
totalIncentive += document.querySelector("#quantity-26").value*100;
totalIncentive += document.querySelector("#quantity-27").value*250;
totalIncentive += document.querySelector("#quantity-28").value*400;
totalIncentive += document.querySelector("#quantity-29").value*750;
totalIncentive += document.querySelector("#quantity-30").value*150;
totalIncentive += document.querySelector("#quantity-31").value*150;
totalIncentive += document.querySelector("#quantity-32").value*400;
totalIncentive += document.querySelector("#quantity-33").value*700;
totalIncentive += document.querySelector("#quantity-34").value*1200;
totalIncentive += document.querySelector("#quantity-35").value*200;
totalIncentive += document.querySelector("#quantity-36").value*200;

let totalact = 0;
totalact += document.querySelector("#quantity-1").value*1;
totalact += document.querySelector("#quantity-2").value*1;
totalact += document.querySelector("#quantity-3").value*1;
totalact += document.querySelector("#quantity-4").value*1;
totalact += document.querySelector("#quantity-5").value*1;
totalact += document.querySelector("#quantity-6").value*1;
totalact += document.querySelector("#quantity-7").value*1;
totalact += document.querySelector("#quantity-8").value*1;
totalact += document.querySelector("#quantity-9").value*1;
totalact += document.querySelector("#quantity-10").value*1;
totalact += document.querySelector("#quantity-11").value*1;
totalact += document.querySelector("#quantity-12").value*1;
totalact += document.querySelector("#quantity-13").value*1;
totalact += document.querySelector("#quantity-14").value*1;
totalact += document.querySelector("#quantity-15").value*1;
totalact += document.querySelector("#quantity-16").value*1;
totalact += document.querySelector("#quantity-17").value*1;
totalact += document.querySelector("#quantity-18").value*1;
totalact += document.querySelector("#quantity-19").value*1;
totalact += document.querySelector("#quantity-20").value*1;
totalact += document.querySelector("#quantity-21").value*1;
totalact += document.querySelector("#quantity-22").value*1;
totalact += document.querySelector("#quantity-23").value*1;
totalact += document.querySelector("#quantity-24").value*1;
totalact += document.querySelector("#quantity-25").value*1;
totalact += document.querySelector("#quantity-26").value*1;
totalact += document.querySelector("#quantity-27").value*1;
totalact += document.querySelector("#quantity-28").value*1;
totalact += document.querySelector("#quantity-29").value*1;
totalact += document.querySelector("#quantity-30").value*1;
totalact += document.querySelector("#quantity-31").value*1;
totalact += document.querySelector("#quantity-32").value*1;
totalact += document.querySelector("#quantity-33").value*1;
totalact += document.querySelector("#quantity-34").value*1;
totalact += document.querySelector("#quantity-35").value*1;
totalact += document.querySelector("#quantity-36").value*1;


    let tenure = document.querySelector("#tenure").value;
    let slab = 0;
    if (totalact < 50) {
      slab = 0;
    } else if (totalact < 75) {
      slab = 50;
    } else if (totalact < 100) {
      slab = 75;
    } else {
      slab = 100;
    }

    if (tenure == "0-30 Days" && totalact < 10) {
      alert("minimum 10 activations are required for Incentive");
    } else if (tenure == "31-60 Days" && totalact < 15) {
      alert("minimum 15 activations are required for Incentive");
    } else if (tenure == "61-90 Days" && totalact < 25) {
      alert("minimum 25 activations are required for Incentive");
    } else if (tenure == ">90 Days" && totalact < 35) {
      alert("minimum 35 activations are required for Incentive");
    } else {
      if (tenure == "0-30 Days") {
        totalIncentive = totalIncentive + (totalact*slab);
      } else if (tenure == "31-60 Days") {
        totalIncentive = totalIncentive + (totalact*slab);
      } else if (tenure == "61-90 Days") {
        totalIncentive = totalIncentive + (totalact*slab);
      } else if (tenure == ">90 Days") {
        totalIncentive = totalIncentive + (totalact*slab);
      }

      let today = new Date();
      let totalDaysInCurrentMonth = new Date(today.getFullYear(), today.getMonth() + 1, 0).getDate();
      let daysElapsedInCurrentMonth = today.getDate();
      let forecastedIncentive = Math.round((totalIncentive / daysElapsedInCurrentMonth) * totalDaysInCurrentMonth);
      let forecastedORN = Math.round((totalact / daysElapsedInCurrentMonth) * totalDaysInCurrentMonth);

      let popup = document.createElement("div");
      popup.style.backgroundColor = "white";
      popup.style.color = "black";
      popup.style.boxShadow = "1px 2px 3px 4px rgba(20,20,20,0.4)";
      popup.style.font = "Calibri";
      popup.style.padding = "10px";
      popup.style.position = "fixed";
      popup.style.left = "50%";
      popup.style.top = "25%";
      popup.style.transform = "translate(-50%, -50%)";

      let closeBtn = document.createElement("button");
      closeBtn.innerHTML = "Close";
      closeBtn.style.marginInlineStart = "20px";
      closeBtn.style.backgroundColor = "red";
      closeBtn.style.color = "white";
      closeBtn.style.top = "20%";
      closeBtn.addEventListener("click", function() {
      popup.style.display = "none";
});
    popup.appendChild(document.createTextNode( "Your predictive incentive so far is Rs. " + totalIncentive + " and total Activations are " + totalact +  " Activations." + " You have opportunity to earn Rs. " + forecastedIncentive + " by doing total " + (forecastedORN - totalact) +" extra activations this month."));
    popup.appendChild(closeBtn);
    document.body.appendChild(popup);
    }
  });
</script>

</html>
